NotificationCenter=NotificationCenter||{},NotificationCenter.Notifications=NotificationCenter.Notifications||{},NotificationCenter.Notifications.Dropdown=function(t){function o(){this.handleEvents()}var n=t(".notification-toggle").attr("data-unseen"),i=t(".notification-toggle"),e=0;return o.prototype.changeStatus=function(o){return t.ajax({url:ajaxurl,type:"post",data:{action:"change_status",notificationIds:o}})},o.prototype.loadMore=function(o){return e=t(".notification-center__item",o).length,t.ajax({url:ajaxurl,type:"post",data:{action:"load_more",offset:e},beforeSend:function(){o.append('<li class="notification-center__loading loading-wrapper"><div class="loading"><div></div><div></div><div></div><div></div></div></li>')},complete:function(){t(".notification-center__loading",o).remove()},success:function(t){0===t.length?e=null:o.append(t)},error:function(t){e=null}})},o.prototype.handleEvents=function(){t(".notification-center__list").bind("scroll",function(o){$target=t(o.currentTarget),$target.scrollTop()+$target.innerHeight()>=$target[0].scrollHeight&&0===$target.find(".notification-center__loading").length&&null!==e&&this.loadMore($target)}.bind(this)),t(document).on("click",".notification-center__item--unseen",function(o){o.preventDefault();var e=t(o.target).closest("a").attr("href"),a=t(o.target).closest(".notification-center__item--unseen").attr("data-notification-id");this.changeStatus(a),n-=1,i.attr("data-unseen",n),t(o.target).closest(".notification-center__item--unseen").removeClass("notification-center__item--unseen"),setTimeout(function(){window.location.replace(e)},60)}.bind(this))},new o}(jQuery),NotificationCenter=NotificationCenter||{},NotificationCenter.Notifications=NotificationCenter.Notifications||{},NotificationCenter.Notifications.Follow=function(t){function o(){t(function(){this.handleEvents()}.bind(this))}return o.prototype.followPost=function(o){return t.ajax({url:ajaxurl,type:"post",data:{action:"follow_post",postId:o}})},o.prototype.followPostType=function(o){return t.ajax({url:ajaxurl,type:"post",data:{action:"follow_post_type",postType:o}})},o.prototype.handleEvents=function(){t(document).on("click",".follow-button",function(o){o.preventDefault(),$target=t(o.currentTarget);var n=$target.data("isArchive");$target.toggleClass("follow-button--following"),$target.hasClass("follow-button--following")?(t(".pricon",$target).removeClass("pricon-star-o").addClass("pricon-star"),t(".follow-button__text",$target).text(notificationCenter.unfollow)):(t(".pricon",$target).removeClass("pricon-star").addClass("pricon-star-o"),t(".follow-button__text",$target).text(notificationCenter.follow)),$target.blur(),n?this.followPostType($target.data("postType")):this.followPost($target.data("postId"))}.bind(this))},new o}(jQuery);var NotificationCenter={};